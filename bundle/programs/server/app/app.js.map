{"version":3,"sources":["meteor://ðŸ’»app/lib/router.js","meteor://ðŸ’»app/server/main.js"],"names":["Router","configure","layoutTemplate","route","name","Meteor","module","watch","require","v","Web3","default","multisigDailyLimitABI","web3","providers","HttpProvider","eth","net","isListening","then","console","log","Future","Npm","account0","account1","startup","methods","fut","getCoinbase","err","cb","throw","return","wait","_executor","_supervisors","_required","_dailyLimit","utils","toWei","multisigwalletwithdailylimitContract","Contract","abi","deploy","data","binHx","arguments","send","from","gas","gasPrice","error","HxTrans","on","transactionHash","receipt","contractAddress","confirmationNumber","newContractInstance","options","address","amount","receiver","reason","amountInWei","sender","dailyWallet","submitTransaction","asciiToHex","transaction","transactionId","events","Submission","returnValues","milestone","Number","settingMilestone","updatePrice","value","checkMilestone","executeDailyTransaction","confirmTransaction","getTransactionCount","call","trans_num","indexArray","i","push","futs","_","map","item","index","onComplete","resolver","transactions","result","toAscii","replace","invoke"],"mappings":"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","file":"/app.js","sourcesContent":["Router.configure({\n  layoutTemplate: 'layout'\n});\n\nRouter.route('/', {name: 'login'});\nRouter.route('/dashboardc', {name: 'company'});\nRouter.route('/dashboardi', {name: 'investor'});\nRouter.route('/request', {name: 'request'});","import { Meteor } from 'meteor/meteor';\nimport Web3 from 'web3';\nimport multisigDailyLimitABI from './contract/multiSigDailyLimit.json';\n\nlet web3 = new Web3(new Web3.providers.HttpProvider(\"http://localhost:8545\"));\nweb3.eth.net.isListening().then(console.log);\nFuture = Npm.require('fibers/future')\n\nvar account0 = \"0xdb5cd3393b2cadce79f4a01331a5f6023e971de0\";\nvar account1 = \"0x0ff7545bd761f4a0f3328e0ed762477ea8917c97\";\n\n\nMeteor.startup(() => {\n  // code to run on server at startup\n\n\tMeteor.methods({\n\t\t'getEthAddress': function(name){\n\n  \t\t\tvar fut = new Future();\n\t\t\tif(name == \"company\"){\n\t\t\t\t// fut.return({getEthAddress:web3.eth.coinbase});\n     \t\t\t// return fut.wait();\n     \t\t\tweb3.eth.getCoinbase((err, cb) =>{\n     \t\t\t\tif(err){\n     \t\t\t\t\tfut.throw(err);\n     \t\t\t\t}else {\n     \t\t\t\t\tfut.return(cb);\n     \t\t\t\t}\n     \t\t\t});\n     \t\t\treturn fut.wait();\n\t\t\t}else if(name == \"investor\"){\n\n\t\t\t}\n\t\t},\n\t\t'deployWallet':function(){\n\t\t\tlet _executor = account0;\n\t\t\tlet _supervisors = account1;\n\t\t\tlet _required = 1;\n\t\t\tlet _dailyLimit = web3.utils.toWei(\"20\", \"ether\");\n \t\t\tlet multisigwalletwithdailylimitContract = new web3.eth.Contract(multisigDailyLimitABI.abi);\n \t\t\t// console.log(multisigDailyLimitABI.binHx);\n \t\t\tmultisigwalletwithdailylimitContract.deploy({\n \t\t\t\tdata: multisigDailyLimitABI.binHx,\n \t\t\t\targuments: [_executor, _supervisors, _required, _dailyLimit]\n \t\t\t})\n\t\t\t.send({\n\t\t\t\tfrom: _executor,\n\t\t\t\tgas: 3000000,\n   \t\t\t\tgasPrice: '300000000'\n\t\t\t}, function(error, HxTrans){\n\t\t\t\tif(error){\n\t\t\t\t\tconsole.error(error);\n\t\t\t\t}else {\n\t\t\t\t\tconsole.log(\"HxTrans: \"+ HxTrans);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.on('error', function(error){ console.error(error); })\n\t\t\t.on('transactionHash', function(transactionHash){ console.log(\"transactionHash: \" + transactionHash); })\n\t\t\t.on('receipt', function(receipt){\n\t\t\t   console.log(\"receipt: \"+ receipt.contractAddress) // contains the new contract address\n\t\t\t})\n\t\t\t.on('confirmation', function(confirmationNumber, receipt){ console.log('confirmation No: '+ confirmationNumber+ \" \"+ receipt) })\n\t\t\t.then(function(newContractInstance){\n\t\t\t\tconsole.log('!!');\n\t\t\t    console.log(newContractInstance.options.address) // instance with the new contract address\n\t\t\t});\n\t\t},\n\n\t\t'submitTransaction': function(amount, receiver, reason ){\n\t\t\tvar fut = new Future();\n\t\t\tvar amountInWei = web3.utils.toWei(amount, \"ether\");\n\t\t\tvar sender = account0;\n\t\t\tvar dailyWallet = new web3.eth.Contract(multisigDailyLimitABI.abi, multisigDailyLimitABI.address);\n\n\t\t\tdailyWallet.methods.submitTransaction(receiver, amountInWei, web3.utils.asciiToHex(\"\"), web3.utils.asciiToHex(reason))\n\t\t\t.send({\n\t\t\t\tfrom: sender,\n\t\t\t\tgas: 300000 //TODO\n\t\t\t})\n\t\t\t.on('error', function(error){ console.error(error); })\n\t\t\t.on('transactionHash', function(transactionHash){ console.log(\"transactionHash: \" + transactionHash); })\n\t\t\t.on('receipt', function(receipt){\n\t\t\t   console.log(\"receipt: \"+ receipt.contractAddress) // contains the new contract address\n\t\t\t})\n\t\t\t.on('confirmation', function(confirmationNumber, receipt){ console.log('confirmation No: '+ confirmationNumber+ \" \"+ receipt) })\n\t\t\t.then(function(transaction){\n\t\t\t\tconsole.log(\"ID:\");\n\t\t\t\tvar transactionId = transaction.events.Submission.returnValues.transactionId;\n\t\t\t\tconsole.log(transactionId);\n\t\t\t\tfut.return(true);\n\t\t\t});\n\n\t\t\treturn fut.wait();\n\t\t},\n\n\t\t'settingMilestone': function(amount, receiver, reason, milestone){\n\t\t\tvar fut = new Future();\n\t\t\tvar amountInWei = web3.utils.toWei(amount, \"ether\");\n\t\t\tvar sender = account0;\n\t\t\tvar dailyWallet = new web3.eth.Contract(multisigDailyLimitABI.abi, multisigDailyLimitABI.address);\n\t\t\tconsole.log(Number(milestone))\n\n\t\t\tdailyWallet.methods.settingMilestone(receiver, amountInWei, web3.utils.asciiToHex(\"\"), web3.utils.asciiToHex(reason), milestone)\n\t\t\t.send({\n\t\t\t\tfrom: sender,\n\t\t\t\tgas: 450000 //TODO\n\t\t\t})\n\t\t\t.on('error', function(error){ console.error(error); })\n\t\t\t.on('transactionHash', function(transactionHash){ console.log(\"transactionHash: \" + transactionHash); })\n\t\t\t.on('receipt', function(receipt){\n\t\t\t   console.log(\"receipt: \"+ receipt.contractAddress) // contains the new contract address\n\t\t\t})\n\t\t\t.on('confirmation', function(confirmationNumber, receipt){ console.log('confirmation No: '+ confirmationNumber+ \" \"+ receipt) })\n\t\t\t.then(function(transaction){\n\t\t\t\tconsole.log(\"ID:\");\n\t\t\t\tvar transactionId = transaction.events.Submission.returnValues.transactionId;\n\t\t\t\tconsole.log(transactionId);\n\t\t\t\tfut.return(true);\n\t\t\t});\n\n\t\t\treturn fut.wait();\n\t\t},\n\n\t\t'updatePrice': function(){\n\t\t\tvar fut = new Future();\n\t\t\tvar sender = account0;\n\t\t\tvar dailyWallet = new web3.eth.Contract(multisigDailyLimitABI.abi, multisigDailyLimitABI.address);\n\n\t\t\tdailyWallet.methods.updatePrice()\n\t\t\t.send({\n\t\t\t\tfrom: sender,\n\t\t\t\tgas: 140000, //TODO\n\t\t\t\tvalue: 500000,\n\t\t\t})\n\t\t\t.on('error', function(error){ console.error(error); })\n\t\t\t.on('transactionHash', function(transactionHash){ console.log(\"transactionHash: \" + transactionHash); })\n\t\t\t.on('receipt', function(receipt){\n\t\t\t   console.log(\"receipt: \"+ receipt.contractAddress) // contains the new contract address\n\t\t\t})\n\t\t\t.on('confirmation', function(confirmationNumber, receipt){ console.log('confirmation No: '+ confirmationNumber+ \" \"+ receipt) })\n\t\t\t.then(function(transaction){\n\t\t\t\tconsole.log(\"!!!\");\n\t\t\t\tdailyWallet.methods.checkMilestone()\n\t\t\t\t.send({\n\t\t\t\t\tfrom: sender,\n\t\t\t\t\tgas: 300000 //TODO\n\t\t\t\t})\n\t\t\t\t.on('error', function(error){console.log(\"error\"); console.error(error); fut.throw(error);})\n\t\t\t\t.on('transactionHash', function(transactionHash){ console.log(\"transactionHash: \" + transactionHash); })\n\t\t\t\t.on('receipt', function(receipt){\n\t\t\t\t   console.log(\"receipt: \"+ receipt.contractAddress) // contains the new contract address\n\t\t\t\t})\n\t\t\t\t.on('confirmation', function(confirmationNumber, receipt){ console.log('confirmation No: '+ confirmationNumber+ \" \"+ receipt) })\n\t\t\t\t.then(function(transaction){\n\t\t\t\t\tconsole.log(transaction);\n\t\t\t\t\tfut.return(true);\n\t\t\t\t});\n\t\t\t});\n\n\t\t\treturn fut.wait();\n\t\t},\n\n\t\t'requestWithOutLimit': function(amount, receiver, reason ){\n\t\t\tvar fut = new Future();\n\t\t\tvar amountInWei = web3.utils.toWei(amount, \"ether\");\n\t\t\tvar sender = account0;\n\t\t\tvar dailyWallet = new web3.eth.Contract(multisigDailyLimitABI.abi, multisigDailyLimitABI.address);\n\n\t\t\tdailyWallet.methods.submitTransaction(receiver, amountInWei, web3.utils.asciiToHex(\"\"), web3.utils.asciiToHex(reason))\n\t\t\t.send({\n\t\t\t\tfrom: sender,\n\t\t\t\tgas: 140000 //TODO\n\t\t\t})\n\t\t\t.on('error', function(error){ console.error(error); })\n\t\t\t.on('transactionHash', function(transactionHash){ console.log(\"transactionHash: \" + transactionHash); })\n\t\t\t.on('receipt', function(receipt){\n\t\t\t   console.log(\"receipt: \"+ receipt.contractAddress) // contains the new contract address\n\t\t\t})\n\t\t\t.on('confirmation', function(confirmationNumber, receipt){ console.log('confirmation No: '+ confirmationNumber+ \" \"+ receipt) })\n\t\t\t.then(function(transaction){\n\t\t\t\tconsole.log(\"ID:\");\n\t\t\t\tvar transactionId = transaction.events.Submission.returnValues.transactionId;\n\t\t\t\tconsole.log(transactionId);\n\n\t\t\t\tdailyWallet.methods.executeDailyTransaction(transactionId)//TODO\n\t\t\t\t.send({\n\t\t\t\t\tfrom: sender,\n\t\t\t\t\tgas: 140000 //TODO\n\t\t\t\t})\n\t\t\t\t.on('error', function(error){console.log(\"error\"); console.error(error); fut.throw(error);})\n\t\t\t\t.on('transactionHash', function(transactionHash){ console.log(\"transactionHash: \" + transactionHash); })\n\t\t\t\t.on('receipt', function(receipt){\n\t\t\t\t   console.log(\"receipt: \"+ receipt.contractAddress) // contains the new contract address\n\t\t\t\t})\n\t\t\t\t.on('confirmation', function(confirmationNumber, receipt){ console.log('confirmation No: '+ confirmationNumber+ \" \"+ receipt) })\n\t\t\t\t.then(function(transaction){\n\t\t\t\t\tconsole.log(transaction);\n\t\t\t\t\tfut.return(true);\n\t\t\t\t});\n\t\t\t});\n\n\t\t\treturn fut.wait();\n\t\t},\n\n\t\t'confirmTransaction' : function(transactionId){\n\t\t\tvar fut = new Future();\n\t\t\tvar sender = account1;\n\t\t\tvar dailyWallet = new web3.eth.Contract(multisigDailyLimitABI.abi, multisigDailyLimitABI.address);\n\t\t\tdailyWallet.methods.confirmTransaction(transactionId)\n\t\t\t.send({\n\t\t\t\tfrom: sender,\n\t\t\t\tgas: 140000 //TODO\n\t\t\t})\n\t\t\t.on('error', function(error){ console.error(error); })\n\t\t\t.on('transactionHash', function(transactionHash){ console.log(\"transactionHash: \" + transactionHash); })\n\t\t\t.on('receipt', function(receipt){\n\t\t\t   console.log(\"receipt: \"+ receipt.contractAddress) // contains the new contract address\n\t\t\t})\n\t\t\t.on('confirmation', function(confirmationNumber, receipt){ console.log('confirmation No: '+ confirmationNumber+ \" \"+ receipt) })\n\t\t\t.then(function(transaction){\n\t\t\t\tfut.return(true);\n\t\t\t});\n\t\t\treturn fut.wait();\n\t\t},\n\n\t\t'getTransNumber': function(){\n\t\t\tvar fut = new Future();\n\t\t\tvar dailyWallet = new web3.eth.Contract(multisigDailyLimitABI.abi, multisigDailyLimitABI.address);\n\t\t\tvar sender = account0;\n\t\t\t// dailyWallet.methods.transactions\n\t\t\tdailyWallet.methods.getTransactionCount(true, true).call({\n\t\t\t\tfrom: sender,\n\t\t\t})\n\t\t\t.then(function(trans_num){\n\t\t\t\tconsole.log(trans_num);\n\t\t\t\tif(trans_num && trans_num != 0){\n\t\t\t\t\tfut.return(trans_num);\n\n\n\t\t\t\t}else {\n\t\t\t\t\tfut.throw(\"No history found\");\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn fut.wait();\n\t\t},\n\n\t\t'showHistory': function(trans_num){\n\t\t\tvar indexArray = [];\n\t\t\tvar sender = account1;\n\t\t\tvar dailyWallet = new web3.eth.Contract(multisigDailyLimitABI.abi, multisigDailyLimitABI.address);\n\t\t\tfor(var i = 0 ; i < trans_num ; i++){\n\n\t\t\t\tindexArray.push(i);\n\t\t\t}\n\n\t\t\tvar futs = _.map(indexArray,function(item, index){\n\t\t\t\tvar fut = new Future();\n\t\t\t\tvar onComplete = fut.resolver();\n\n\t\t\t\tdailyWallet.methods.transactions(item).call({from: sender}, function(err,result){\n\t\t\t\t\tif(err){\n\t\t\t\t\t\tconsole.error(err);\n\t\t\t\t\t}else{\n\t\t\t\t\t\t// console.log(web3);\n\t\t\t\t\t\tresult.reason = web3.utils.toAscii(result.reason).replace(/\\0/g, '');\n\t\t\t\t\t\tconsole.log(result.reason)\n\t\t\t\t\t\tonComplete(err, result);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn fut;\n\t\t\t})\n\n\t\t\tFuture.wait(futs);\n\t\t\treturn _.invoke(futs, 'get');\n\t\t}\n\t});\n});\n"]}